<p
  *ngIf="hoverPin"
  class="legend pointer-events-none"
  [ngStyle]="{
    left: hoverPin.legendPosition.x + 'px',
    top: -hoverPin.legendPosition.y + 'px'
  }"
>
  {{ hoverPin.pin.title }}
</p>
<p *ngFor="let pin of pinsSelectedWithDnc; let in = index" class="legend pointer-events-none" [ngStyle]="{
    left: pin.deviceCoordinate.x + 'px',
    top: pin.deviceCoordinate.y + 'px'
  }">
  {{ pin.title }}
</p>
<div class="absolute justify-center w-full flex bottom-8">
  <p *ngIf="isLoadingTile" class="loading pointer-events-none text-xl text-primary-500" >
    載入圖片中...
  </p>
</div>
<div class="flex flex-row justify-between absolute pointer-events-none w-full">
  <div class="flex flex-col p-6 text-primary-500 pointer-events-auto">
    <h2>
      <a 
      class="text-2xl px-6 py-3 font-medium hover:bg-primary-500 hover:text-white rounded-2xl flex"
      [routerLink]="['dashboard']">
        Geostat.tw
      </a>
    </h2>
    <h1 class="text-4xl px-6 py-3 font-light">{{mapTitle}}</h1>
    <app-category-picker class="flex flex-col m-6" (changeCategoryToCanvas)="mapCanvas.onCategoryChageFromPicker($event)"></app-category-picker>
  </div>
  <app-map-settings class="flex float-right flex-col" [columnSettings]="mapCanvas.guiColumnSettings"
    [polygonSettings]="mapCanvas.guiPolygonSettings" [pins]="mapCanvas.pins" [selectedPins]="mapCanvas.selectedPins"
    (columnChanged)="mapCanvas.uiUpdatePin($event)" (polygonChanged)="mapCanvas.uiUpdatePolygon($event)"
    (pinSelected)="onPinSelected($event)" [polygons]="mapCanvas.polygons"></app-map-settings>
</div>
<app-map-canvas 
#mapCanvas
(hoverOnPin)="changeHoverLegend($event)"
[onPinSelected]="pinSelected"
class="absolute h-screen"
(selectedPinsWithDncEmitter)="onSelectedPinsWithDnc($event)"
(isLoadingTile)="onLoadingTile($event)"
></app-map-canvas>